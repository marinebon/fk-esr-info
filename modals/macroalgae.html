<html>
<head>
  <meta charset="utf-8">
  <title>Green macroalgae abundance on reef sites</title>
</head>
<body>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://marinebon.org/fk-esr-info/assets/js/highcharts_wrapper.js"></script>

<div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div>

Calcareous green macroalgae is a calcifier and contributes to the carbonate budget of reef ecosystems in a positive way. This
is important in allowing coral reefs to accrete rather chemically dissolve. Total abundance of calcareous green macroalgae
on monitored Florida Keys reef sites has declined in the last five years.

Source: <a href="https://www.coris.noaa.gov/monitoring/">NOAA National Coral Reef Monitoring Program surveys</a>

<script>
  csv   = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS8CDz73Mokrx4ZI8fqOIZONfqbk_grBPgFJ-jQRZxrJuqcaDP1uFxNTykcggBdEM0ik6IiGW7ExuY6/pub?gid=2067262768&single=true&output=csv';
  title = 'Green macroalgae abundance on reef sites';
  icon  = 'macroalgae';

  x_axis_label = "Year";
  y_axis_label = 'Total abundance';
  
  if (csv == 'NA'){
    document.getElementById('container').innerHTML = "<em>No data</em> yet assigned to icon <b>" + icon + "</b>. This needs to be specified in the Google Sheet 'icons to data | fk-esr-info'."
  } 
  //The chart for hurricane coastal protections is a bar chart and has to be handled differently than all other modal windows
  else if (icon == 'hurricane-coastal-protections') {
    Highcharts.chart('container', { 
      chart: {type: 'column'},
      title: {text: title},
      credits: {enabled: false},
      data: {csvURL: csv},
      xAxis: {title: {text: "Storm Frequency"}},
      yAxis: {title: {text: "2010 Dollars"}},
      legend: {enabled: false}
    });
  }
  else if (icon == 'SST'){ // the SST modal window is another unusual case
    createGraph(
      theData = csv, 
      graph_location = 'container', 
      title = title, 
      y_axis_label = y_axis_label, undefined, undefined, 
      SST = true
    );
  }
  else {
    createGraph(
      theData = csv, 
      graph_location = 'container', 
      title = title, 
      y_axis_label = y_axis_label
    );
  }
</script>

</body>
</html>
