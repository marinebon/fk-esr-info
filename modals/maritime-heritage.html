<html>
<head>
  <meta charset="utf-8">
  <title>Maritime heritage resources listed on National Register of Historic Places</title>
</head>
<body>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div>

The National Register of Historic Places (NHRP) is the official list of historic buildings, districts, sites, structures, and objects worthy of preservation in the United States, established as part of the National Historic Preservation Act of 1966. The number of Florida Keys National Marine Sanctuarymaritime heritage resources, including lighthouses, included on this list are used as an indicator of maritime heritage preservation. This number has been increasing since the designation of the Sanctuary, with a noted increase since 2006.

Source: <a href="https://sanctuaries.noaa.gov/maritime/">Office of National Marine Sanctuary staff</a>

<script>
  csv   = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS1p_uYNd-1IThnfv7Ti6NkG821C_WpxDgqK3BG0MlimEuMQmIFhlRsP-xV1FsO28hbkKmGlHwYdbXD/pub?gid=1077361851&single=true&output=csv';
  title = 'Maritime heritage resources listed on National Register of Historic Places';
  icon  = 'maritime-heritage';

  x_axis_label = "Year";
  y_axis_label = 'Resources Listed';
  year_max     = 2019;      // TODO: to use JS to read in max year, presumably 1st column
  years_band   = 5;
  
  if (csv == 'NA'){
    document.getElementById('container').innerHTML = "<em>No data</em> yet assigned to icon <b>" + icon + "</b>. This needs to be specified in this Google Sheet: <a href='https://docs.google.com/spreadsheets/d/1_o8HOiZ_35uajupEsw6xLSsneTBTeLh0bqvFQvMpBNY/edit#gid=0'>icons to data | fk-esr-info</a>."
  } 
  //The chart for hurricane coastal protections is a bar chart and has to be handled differently than all other modal windows
  else if (icon == 'hurricane-coastal-protections') {
        Highcharts.chart('container', {
          chart: {type: 'column'},
      title: {text: title},
      credits: {enabled: false},
      data: {csvURL: csv},
      xAxis: {title: {text: "Storm Frequency"}},
      yAxis: {title: {text: "2010 Dollars"}},
      legend: {enabled: false},
});
  }
  else {
    Highcharts.chart('container', {
      title: {text: title},
      credits: {enabled: false},
      data: {
        csvURL: csv,
        firstRowAsNames: true,
        startRow: 0 }, 
      series: [{
        name: 'value', 
        showInLegend: true,
        marker: {
          enabled: false,
          fillColor: 'white',
          lineWidth: 1,
          lineColor: Highcharts.getOptions().colors[0] }}],
      xAxis: {
        plotBands: [{
          from: year_max - years_band, 
          to: year_max,
          color: '#DEDEFF'}],
        title: {text: x_axis_label}},
      yAxis: {
        title: {text: y_axis_label} }});
  }
</script>

</body>
</html>
