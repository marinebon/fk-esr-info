<html>
<head>
  <meta charset="utf-8">
  <title>Hogfish presence and abundance on reef sites</title>
</head>
<body>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://marinebon.org/fk-esr-info/assets/js/highcharts_wrapper.js"></script>

<div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div>

Hogfish were selected as a key indicator for the condition of living resources in the Florida Keys, due to their status as targeted species by recreational and commercial fishers. The status and trend were represented by calculating the average abundance per species per fishery independent dive survey, per reef site in the Florida Keys. The abundance of hogfish has recovered to a site average above the mean since 2013, and the trend is increasing over the past five years. This may be due to stricter bag and season regulations on recreational fishers in Atlantic waters.

Source: <a href="https://www.fisheries.noaa.gov/southeast/science-data/reef-ecology-unit">NOAA National Marine Fisheries Service, Southeast Fisheries Science Center, Reef Visual Census program</a>

<script>
  csv   = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRIV0WgctAUvWsgNAuazbzHlpnpxyFJlioBYj-vRCMKLrnyX1_bVnzAeRZfI_5yJdBx5F1PYbKMJwvJ/pub?gid=1728067002&single=true&output=csv';
  title = 'Hogfish presence and abundance on reef sites';
  icon  = 'hogfish';

  x_axis_label = "Year";
  y_axis_label = 'Hogfish Abundance';
  
  if (csv == 'NA'){
    document.getElementById('container').innerHTML = "<em>No data</em> yet assigned to icon <b>" + icon + "</b>. This needs to be specified in the Google Sheet 'icons to data | fk-esr-info'."
  } 
  //The chart for hurricane coastal protections is a bar chart and has to be handled differently than all other modal windows
  else if (icon == 'hurricane-coastal-protections') {
    Highcharts.chart('container', { 
      chart: {type: 'column'},
      title: {text: title},
      credits: {enabled: false},
      data: {csvURL: csv},
      xAxis: {title: {text: "Storm Frequency"}},
      yAxis: {title: {text: "2010 Dollars"}},
      legend: {enabled: false}
    });
  }
  else if (icon == 'SST'){ // the SST modal window is another unusual case
    createGraph(
      theData = csv, 
      graph_location = 'container', 
      title = title, 
      y_axis_label = y_axis_label, undefined, undefined, 
      SST = true
    );
  }
  else {
    createGraph(
      theData = csv, 
      graph_location = 'container', 
      title = title, 
      y_axis_label = y_axis_label
    );
  }
</script>

</body>
</html>
