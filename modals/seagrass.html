<html>
<head>
  <meta charset="utf-8">
  <title>Seagrass abundance</title>
</head>
<body>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://marinebon.org/fk-esr-info/assets/js/highcharts_wrapper.js"></script>

<div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div>

Seagrass meadows in nearshore areas of the Florida Keys provide juvenile marine species habitat, an important food source,
and a key conduit for juveniles from nursery grounds in mangroves to the offshore coral reef tract. This habitat indicator,
analyzed as total seagrass abundance, has declined in monitored sites during the last five years.


Source: <a href="http://seagrass.fiu.edu/">Florida International University Seagrass Ecosystems Research Lab</a>

<script>
  csv   = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTH97WxIq3PGblBUykXoSmysZB10fqyJLUm5qmPkbFJJyG3mW1GYeLgEs9rFd22DrYqCeSguXwpW4ht/pub?gid=609509037&single=true&output=csv';
  title = 'Seagrass abundance';
  icon  = 'seagrass';

  x_axis_label = "Year";
  y_axis_label = 'Seagrass Abundance';
  
  if (csv == 'NA'){
    document.getElementById('container').innerHTML = "<em>No data</em> yet assigned to icon <b>" + icon + "</b>. This needs to be specified in the Google Sheet 'icons to data | fk-esr-info'."
  } 
  //The chart for hurricane coastal protections is a bar chart and has to be handled differently than all other modal windows
  else if (icon == 'hurricane-coastal-protections') {
    Highcharts.chart('container', { 
      chart: {type: 'column'},
      title: {text: title},
      credits: {enabled: false},
      data: {csvURL: csv},
      xAxis: {title: {text: "Storm Frequency"}},
      yAxis: {title: {text: "2010 Dollars"}},
      legend: {enabled: false}
    });
  }
  else if (icon == 'SST'){ // the SST modal window is another unusual case
    createGraph(
      theData = csv, 
      graph_location = 'container', 
      title = title, 
      y_axis_label = y_axis_label, undefined, undefined, 
      SST = true
    );
  }
  else {
    createGraph(
      theData = csv, 
      graph_location = 'container', 
      title = title, 
      y_axis_label = y_axis_label
    );
  }
</script>

</body>
</html>
