<html>
<head>
  <meta charset="utf-8">
  <title>Total tourism value in Monroe County</title>
</head>
<body>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div>

Total tourism value as calculated from the hospitality industry GDP was selected as an indicator for ecosystem services, as a benefit to the population of the Keys
derived from nature and protected byt he Sanctuary. Tourism is the largest employer and sector of the workforce economy, with the tourism and hospitality industry employing
approximately 31-44% (direct-indirect) of the workforce of Monroe County. The last five years show a positive trend in total tourism value.

Source: <a href="https://coast.noaa.gov/digitalcoast/">Monroe County Tourism Development Council, NOAA Office for Coastal Management coastal economy</a>

<script>
  csv   = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSdfZAg3XmOCq2pi5KeHE1yAw7FWRfIUPX5L5DxQtyvqUZLXR9DtRJ06zdoF23rFIIzBexQQPuAdBs_/pub?gid=1063510568&single=true&output=csv';
  title = 'Total tourism value in Monroe County';
  icon  = 'tourism-value';

  x_axis_label = "Year";
  y_axis_label = 'Real GDP (Hospitality)';
  year_max     = 2015;      // TODO: to use JS to read in max year, presumably 1st column
  years_band   = 5;
  
  if (csv == 'NA'){
    document.getElementById('container').innerHTML = "<em>No data</em> yet assigned to icon <b>" + icon + "</b>. This needs to be specified in this Google Sheet: <a href='https://docs.google.com/spreadsheets/d/1_o8HOiZ_35uajupEsw6xLSsneTBTeLh0bqvFQvMpBNY/edit#gid=0'>icons to data | fk-esr-info</a>."
  } else {
    Highcharts.chart('container', {
      title: {text: title},
      credits: {enabled: false},
      data: {
        csvURL: csv,
        firstRowAsNames: true,
        startRow: 0 }, 
      series: [{
        name: 'value', 
        showInLegend: true,
        marker: {
          enabled: false,
          fillColor: 'white',
          lineWidth: 1,
          lineColor: Highcharts.getOptions().colors[0] }}],
      xAxis: {
        plotBands: [{
          from: year_max - years_band, 
          to: year_max,
          color: '#DEDEFF'}],
        title: {text: x_axis_label}},
      yAxis: {
        title: {text: y_axis_label} }});
  }
</script>

</body>
</html>
