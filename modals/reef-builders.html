<html>
<head>
  <meta charset="utf-8">
  <title>Percent cover of reef building corals</title>
</head>
<body>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div>

<script>
csv   = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQ1ivNGvWqv4jX1FoO8RbL65nH7BA9EjBx5Fmr5xCkoT_HHA0EoSpanC5mbjv4zNmiZmydHukTjnKnL/pub?gid=417841961&single=true&output=csv';
title = 'Percent cover of reef building corals';
icon  = 'reef-builders';

if (csv == 'NA'){
  document.getElementById('container').innerHTML = "<em>No data</em> yet assigned to icon <b>" + icon + "</b>. This needs to be specified in this Google Sheet: <a href='https://docs.google.com/spreadsheets/d/1_o8HOiZ_35uajupEsw6xLSsneTBTeLh0bqvFQvMpBNY/edit#gid=0'>icons to data | fk-esr-info</a>."
} else {
  Highcharts.chart('container', {
    title: {
      text: title
    },
    data: {
      csvURL: csv,
      firstRowAsNames: true,
      startRow: 0
    }, 
    series: [{
      name: 'value' }]
  });
}
</script>

</body>
</html>
