<html>
<head>
  <meta charset="utf-8">
  <title>Measuring the total amount of commercial fishing trips that were landed on sanctuary shores and transited and/or fished in sanctuary
waters was considered an important indicator for both the Human Activities and Ecosystem Services sections. This data shows a low amount of total commercial fishing
trips in 1998, rapidly increasing to a peak in 1999, followed by a significant drop in 2008.</title>
</head>
<body>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<div id="container" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div>

Measuring the total amount of commercial fishing trips that were landed on sanctuary shores and transited and/or fished in sanctuary
waters was considered an important indicator for both the Human Activities and Ecosystem Services sections. This data shows a low amount of total commercial fishing
trips in 1998, rapidly increasing to a peak in 1999, followed by a significant drop in 2008.

Source: <a href="https://www.fisheries.noaa.gov/region/southeast#science">NOAA National Marine Fisheries Service</a>

<script>
  csv   = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS-Q_3QCEbFf33mlL6fuOaZnGbFXmOx-4ke_GmNjAGMiDcSU7v89aoCX77vCcTB-497MJabsxy1xHIK/pub?gid=1495286514&single=true&output=csv';
  title = 'Measuring the total amount of commercial fishing trips that were landed on sanctuary shores and transited and/or fished in sanctuary
waters was considered an important indicator for both the Human Activities and Ecosystem Services sections. This data shows a low amount of total commercial fishing
trips in 1998, rapidly increasing to a peak in 1999, followed by a significant drop in 2008.';
  icon  = 'commercial-fishing';

  x_axis_label = "Year";
  y_axis_label = 'Number of commercial fishing trips from Monroe County';
  year_max     = 2018;      // TODO: to use JS to read in max year, presumably 1st column
  years_band   = 5;
  
  if (csv == 'NA'){
    document.getElementById('container').innerHTML = "<em>No data</em> yet assigned to icon <b>" + icon + "</b>. This needs to be specified in this Google Sheet: <a href='https://docs.google.com/spreadsheets/d/1_o8HOiZ_35uajupEsw6xLSsneTBTeLh0bqvFQvMpBNY/edit#gid=0'>icons to data | fk-esr-info</a>."
  } else {
    Highcharts.chart('container', {
      title: {text: title},
      credits: {enabled: false},
      data: {
        csvURL: csv,
        firstRowAsNames: true,
        startRow: 0 }, 
      series: [{
        name: 'value', 
        showInLegend: true,
        marker: {
          enabled: false,
          fillColor: 'white',
          lineWidth: 1,
          lineColor: Highcharts.getOptions().colors[0] }}],
      xAxis: {
        plotBands: [{
          from: year_max - years_band, 
          to: year_max,
          color: '#DEDEFF'}],
        title: {text: x_axis_label}},
      yAxis: {
        title: {text: y_axis_label} }});
  }
</script>

</body>
</html>
